# SonarQube Project Configuration
# This file configures SonarQube analysis for the project
#
# ⚠️ IMPORTANT: DO NOT override sonar.sources in command line!
# ❌ WRONG: sonar-scanner.bat -D"sonar.sources=." (scans entire project, causes memory errors)
# ✅ CORRECT: Use sonar-scan.bat or don't override sonar.sources
# The scanner will use: frontend/src,backend (defined below)

# Project identification
sonar.projectKey=uroprep
sonar.projectName=UroPrep
sonar.projectVersion=1.0

# Source code location
sonar.sources=frontend/src,backend
sonar.tests=frontend/src,backend
sonar.test.inclusions=**/*.test.js,**/*.test.jsx,**/*.spec.js,**/*.spec.jsx

# Files to exclude from analysis (including e2e tests which use test credentials)
# Note: Test files (.test.js, .test.jsx) are handled by sonar.test.inclusions, not excluded here
# Exclude: build artifacts, test files, style files, documentation, config files, cursor rules, and other non-code files
# Note: package.json is kept for dependency vulnerability scanning, but other JSON config files are excluded
sonar.exclusions=**/node_modules/**,**/dist/**,**/build/**,**/*.min.js,**/coverage/**,**/*.bundle.js,**/vendor/**,**/public/**,e2e/**,scripts/**,generate-coverage-and-scan.bat,**/*.test.js,**/*.test.jsx,**/*.spec.js,**/*.spec.jsx,**/*.css,**/*.scss,**/*.sass,**/*.less,**/*.styl,**/*.md,**/*.mdc,**/.cursor/**,**/.agent/**,**/*.config.js,**/*.config.ts,**/*.config.json,**/package-lock.json,**/tsconfig.json,**/jsconfig.json,**/*.json,**/*.xml,**/*.yml,**/*.yaml,**/*.toml,**/*.ini

# Language settings
sonar.sourceEncoding=UTF-8
sonar.javascript.lcov.reportPaths=frontend/coverage/lcov.info,backend/coverage/lcov.info,coverage/lcov.info

# Disable prop-types validation rule for nested properties (S6774)`
sonar.issue.ignore.multicriteria=e1
sonar.issue.ignore.multicriteria.e1.ruleKey=javascript:S6774
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.jsx,**/*.js

# ESLint configuration
sonar.javascript.linter.eslint.configFile=frontend/eslint.config.js

# Code coverage exclusions
# Exclude test files, setup files, admin scripts, utility scripts, dummy data, config files, entry point files, complex modals that are tested via E2E/Playwright, style files, documentation, and other non-code files
sonar.coverage.exclusions=**/*.test.js,**/*.test.jsx,**/*.spec.js,**/*.spec.jsx,**/node_modules/**,**/test/**,**/__tests__/**,backend/scripts/**,scripts/**,frontend/src/test/setup.js,backend/controllers/bookingController.js,backend/controllers/patientController.js,frontend/src/utils/dummyData.js,**/vitest.config.js,**/jest.config.js,backend/server.js,frontend/src/main.jsx,**/*.css,**/*.scss,**/*.sass,**/*.less,**/*.styl,**/*.md,**/*.mdc,**/.cursor/**,**/.agent/**,**/*.config.js,**/*.config.ts,**/*.config.json,**/package-lock.json,**/tsconfig.json,**/jsconfig.json,**/*.json,**/*.xml,**/*.yml,**/*.yaml,**/*.toml,**/*.ini

