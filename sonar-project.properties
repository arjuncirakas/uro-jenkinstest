# SonarQube Project Configuration
# This file configures SonarQube analysis for the project

# Project identification
sonar.projectKey=uroprep
sonar.projectName=UroPrep
sonar.projectVersion=1.0

# Source code location
sonar.sources=frontend/src,backend
sonar.tests=frontend/src,backend
sonar.test.inclusions=**/*.test.js,**/*.test.jsx,**/*.spec.js,**/*.spec.jsx

# Files to exclude from analysis (including e2e tests which use test credentials)
sonar.exclusions=**/node_modules/**,**/dist/**,**/build/**,**/*.min.js,**/coverage/**,**/*.bundle.js,**/vendor/**,**/public/**,**/test/**,**/__tests__/**,e2e/**,scripts/**,generate-coverage-and-scan.bat

# Language settings
sonar.sourceEncoding=UTF-8
sonar.javascript.lcov.reportPaths=frontend/coverage/lcov.info,backend/coverage/lcov.info,coverage/lcov.info

# Disable prop-types validation rule for nested properties (S6774)
sonar.issue.ignore.multicriteria=e1
sonar.issue.ignore.multicriteria.e1.ruleKey=javascript:S6774
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.jsx,**/*.js

# ESLint configuration
sonar.javascript.linter.eslint.configFile=frontend/eslint.config.js

# Code coverage exclusions
# Exclude test files, setup files, admin scripts, utility scripts, and complex modals that are tested via E2E/Playwright
sonar.coverage.exclusions=**/*.test.js,**/*.test.jsx,**/*.spec.js,**/*.spec.jsx,**/node_modules/**,**/test/**,**/__tests__/**,backend/scripts/**,scripts/**,frontend/src/test/setup.js,frontend/src/components/AddClinicalInvestigationModal.jsx,frontend/src/components/NursePatientDetailsModal.jsx,frontend/src/components/UrologistPatientDetailsModal.jsx,frontend/src/pages/nurse/OPDManagement.jsx,backend/controllers/bookingController.js,backend/controllers/patientController.js

